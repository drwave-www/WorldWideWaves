# Start with the official NGINX base image
FROM nginx:latest

# Install apache2-utils to provide the htpasswd command
RUN apt-get update && apt-get install -y apache2-utils && rm -rf /var/lib/apt/lists/*

# Copy custom initialization script
COPY init-nginx.sh /init-nginx.sh
RUN chmod +x /init-nginx.sh

# Default command
ENTRYPOINT ["/init-nginx.sh"]
CMD ["nginx", "-g", "daemon off;"]

